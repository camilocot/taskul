{% extends "::base.html.twig" %}
{% block body %}
<h1>FriendRequest list</h1>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Id</th>
            <th>Message</th>
            <th>From</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for entity in entities %}
        <tr>
            <td><a href="{{ path('frequest_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
            <td>{{ entity.message }}</td>
            <td>{{ entity.from }}</td>
            <td>
                <ul>
                {% if is_granted('VIEW',entity) %}
                    <li>
                        <a href="{{ path('frequest_show', { 'id': entity.id }) }}">show</a>
                    </li>
                    {% endif %}
                    {% if app.user == entity.to %}
                    <li>
                        <a href="{{ path('frequest_activate', { 'id': entity.id }) }}">activate</a>
                    </li>
                    {% endif %}
                    {% if is_granted('DELETE',entity) %}
                    <li>
                        <a href="{{ path('frequest_delete', { 'id': entity.id }) }}">delete</a>
                    </li>
                {% endif %}
                </ul>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}