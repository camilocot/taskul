{% extends app.request.isXmlHttpRequest ? "::base_ajax.html.twig" : "TaskBundle::layout.html.twig" %}
{% trans_default_domain "TaskBundle" %}
{% block content %}
{{ apy_breadcrumb_trail_render() }}
<div id="main" ng-app="myApp">
<div class="row-fluid sortable">
    <div class="box span12">
        <div class="box-header" data-original-title>
            <h2><i class="icon-user"></i><span class="break"></span>{{'task.list.title'|trans}}</h2>
            <div class="box-icon">
            <a href="#" class="btn-minimize"><i class="icon-chevron-up"></i></a>
            </div>
        </div>
        <div class="box-content">
            <div class="well hidden-desktop">
               <a href="{{ path('api_new_task') }}" class="btn ajaxy btn-primary" title="{{'task.list.buttons.new'|trans({},'TaskBundle')}}">
                {{'task.list.buttons.new'|trans({},'TaskBundle')}}
                </a>
            </div>
        </div>
    </div><!--/box-->
<ul class="menu">
    <li><a href="{{ path('api_index_task_period', {'idTask':162}) }}/add">view1</a></li>
  </ul>

  <div ng-view></div>
</div>
{% verbatim %}
<script type="text/ng-template" id="period-list">
<h1 class="lead">Periods</h1>

<div class="well">
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th class="span1">ID</th>
        <th class="span2">END</th>
        <th class="span2">BEGIN</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="period in taskPeriods.periods">
        <td class="text-center">{{period.id}}</td>
        <td class="text-center">{{period.begin}}</td>
        <td class="text-center">{{period.end}}</td>
      </tr>
    </tbody>
  </table>
</div>
</script>
<script type="text/ng-template" id="view2">
    <p>This is the partial for view 2.</p>
    <p>
aquiii
    </p>
</script>
{% endverbatim %}
</div>
{% endblock %}
{% block javascripts %}
{{ parent() }}
<script src="//code.angularjs.org/1.0.8/angular.min.js"></script>
<script src="//code.angularjs.org/1.0.8/angular-resource.min.js"></script>
{% javascripts
'@TaskBundle/Resources/public/js/period/app.js'
'@TaskBundle/Resources/public/js/period/services.js'
'@TaskBundle/Resources/public/js/period/controllers.js'
'@TaskBundle/Resources/public/js/period/filters.js'
'@TaskBundle/Resources/public/js/period/directives.js'
output='js/period/app.js' %}
<script src="{{ asset_url }}"></script>
{% endjavascripts %}

{% endblock %}